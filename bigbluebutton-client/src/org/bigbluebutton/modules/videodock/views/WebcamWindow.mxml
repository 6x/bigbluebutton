<?xml version="1.0" encoding="utf-8"?>
<ns:MDIWindow xmlns:mx="http://www.adobe.com/2006/mxml" 
              xmlns:ns="http://code.google.com/p/flexlib/" 
              xmlns:dock="org.bigbluebutton.modules.videodock.views.*"
              implements="org.bigbluebutton.common.IBbbModuleWindow"
              creationComplete="onCreationComplete()" currentState="displayAvatar"
              layout="absolute">
  <mx:Script>
    <![CDATA[
      import org.bigbluebutton.main.views.MainCanvas;
      public var userID:String;
      public var isPublishWindow:Boolean = false;
      
      private function onCreationComplete():void {
        
      }
      
      public function getPrefferedPosition():String{
//        if (_controlButtonsEnabled)
//          return MainCanvas.POPUP;
//        else
          // the window is docked, so it should not be moved on reset layout
          return MainCanvas.ABSOLUTE;
      }
      
    ]]>
  </mx:Script>
  
  <ns:states>
    <mx:State name="displayAvatar">
      <mx:AddChild relativeTo="{userDisplay}">
        <mx:RemoveChild target="{videoDisplay}"/>
        <dock:AvatarDisplay id="avatarDisplay" width="100%" height="100%"/>
      </mx:AddChild>
    </mx:State>
    <mx:State name="displayWebcam">
      <mx:RemoveChild target="{avatarDisplay}"/>
      <mx:AddChild relativeTo="{userDisplay}">
        <dock:VideoDisplay id="videoDisplay" width="100%" height="100%"/>
      </mx:AddChild>      
    </mx:State>
  </ns:states>
  
  <mx:VBox id="userDisplay" width="100%" height="100%"/>
  
</ns:MDIWindow>
